<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE mapper
  PUBLIC '-//mybatis.org//DTD Mapper 3.0//EN'
  'http://mybatis.org/dtd/mybatis-3-mapper.dtd'>
  
  
<mapper namespace='io.rezoome.manager.database.dao.xml.agency.Dao'>
	<resultMap id="OpicResultEntity" type="opic_result">
		<result property="name" column="name"/>
		<result property="examNo" column="examno"/>
		<result property="examDate" column="examdate"/>
		<result property="grade" column="grade"/>
	</resultMap>

	<select id="getRecordByCi" parameterType="db_entity" resultMap="OpicResultEntity">
		select 
			name, examno, examdate, grade 
		from TBL_EXAM 
		where 
			ci = #{ci}
		limit 1;
	</select>
	
	<select id="getRecordsByName" parameterType="db_entity" resultMap="OpicResultEntity">
		select 
			name, examno, examdate, grade 
		from TBL_EXAM 
		where 
			name = #{username} AND
			birth = #{birth} AND
			gender = #{gender};
	</select>
	
	<select id="getRecordsByPhone" parameterType="db_entity" resultMap="OpicResultEntity">
		select 
			name, examno, examdate, grade 
		from TBL_EXAM 
		where 
			phone = #{phone} AND
			email = #{email};
	</select>
</mapper>